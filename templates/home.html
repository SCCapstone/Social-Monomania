
{% extends  "layout.html" %}

{% block title %} Home {% endblock %}

{% block heading %} Home {% endblock %}

{% block content %}

<form id='searchForm' method='get' onsubmit='return validateForm()' action='http://socialmonomania-dev.herokuapp.com/results' >
	<h3>Enter your search in the bar below and press enter. </h3>
	<input class="w3-input w3-border w3-round-large"type="search" id="mySearch"  name='q' placeholder="Search.." >
	<script type="text/javascript" language="javascript">
		document.getElementById("mySearch")
  	  	.addEventListener("keyup", function(event) {
	    event.preventDefault();
	    if (event.keyCode === 13) {
 	       document.getElementById("s_button").click();
  	  	}
	});
	</script>
	<script type="text/javascript" src="https://code.jquery.com/jquery-1.10.2.js"></script>
	<br>&nbsp;</br>
	<div id='Box'>
		<input type="checkbox" name='boxes[]' id="reddit" value= 'reddit' onclick="redditSearch(this)" /> Reddit<br />
		<input type="checkbox" name='boxes[]' id="twitter" value='twitter'onclick="twitterSearch(checkbox)"/> Twitter<br />
		<input type="checkbox" name='boxes[]' id="test" value='test' onclick="testSearch(checkbox)" />Our Site<br />
	</div>
	<div id='redditSubmenu'>
		<p> Select subreddit to search</p>
		<input type="checkbox" name='subboxes[]' id="news" value= 'news'  checked/> News<br />
		<input type="checkbox" name='subboxes[]' id="SC" value='SC'checked/> SC<br />
	<p>&nbsp;</p>
	<button  id='s_button' style="vertical-align: top;margin-left:auto;margin-right:auto" onclick="myFunction()">Search</button>

	

</form>
<br></br>
<div id="demo" style="height:800px; width:800px; display:none;vertical-align: bottom;margin-left:auto;margin-right:auto"> </div>



<script language="javascript" type="text/javascript">
function myFunction() {
	document.getElementById("demo").style.display = "inline-block";
	document.getElementById("demo").innerHTML = '<object type="text/html" style="width:100%;height:100%" data="graph/graph.html" > </object> ';
}

function redditSearch(checkbox)
{ if (checkbox.checked)
	{ //search using Reddit
		document.getElementById('redditSubmenu').style.display = 'block';
	
	}else{
		document.getElementById('redditSubmenu').style.display = 'none';
	}


}

function twitterSearch(checkbox)
{ if (checkbox.checked)
	{ //search using twitter
	
	}


}


function validateForm(){
    var filled = false;
	var elements = document.getElementsByName("boxes[]");
	for(var i=0; i < elements.length; i++){
		if(elements[i].checked) {
			filled = true;
		}
	}
	if (!filled){
		alert('Please Check At Least One Box');
		return false;
	}

}

//document.getElementById('searchForm').addEventListener('onsubmit', validateForm);
   /* $.ajax({
    	type: "GET",
    	dataType: "html",
    	url: "graph/graph.html",
    	success: function(data){
    		document.getElementById("demo").innerHTML = data;
    	}
    });
    */
    //document.getElementById("demo").innerHTML = x;

</script>
{% endblock %}